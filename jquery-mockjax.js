(g=>{var m=g.ajax,T=[],y=[],w=[],l=/=\?(&|$)/,u=(new Date).getTime();function a(e,t){return e[t]===g.mockjaxSettings[t]}function v(e,t){if(g.isFunction(e))return e(t);if(g.isFunction(e.url.test)){if(!e.url.test(t.url))return null}else{var n=e.url.indexOf("*");if(e.url!==t.url&&-1===n||!new RegExp(e.url.replace(/[-[\]{}()+?.,\\^$|#\s]/g,"\\$&").replace(/\*/g,".+")).test(t.url))return null}return!(!e.data||t.data&&function t(n,s){var o=!0;return"string"==typeof s?g.isFunction(n.test)?n.test(s):n==s:(g.each(n,function(e){if(void 0===s[e])return o=!1;o="object"==typeof s[e]&&null!==s[e]?(o=o&&g.isArray(s[e])?g.isArray(n[e])&&s[e].length===n[e].length:o)&&t(n[e],s[e]):n[e]&&g.isFunction(n[e].test)?o&&n[e].test(s[e]):o&&n[e]==s[e]}),o)}(e.data,t.data))||e&&e.type&&e.type.toLowerCase()!=t.type.toLowerCase()?null:e}function c(e){var t,n;return g.isArray(e)?(t=e[0],n=e[1],"number"==typeof t&&"number"==typeof n?Math.floor(Math.random()*(n-t))+t:null):"number"==typeof e?e:null}function j(t,n,s){o=this;var o,r=function(){return function(){this.status=t.status,this.statusText=t.statusText,this.readyState=1;function e(){var e;this.readyState=4,"json"==n.dataType&&"object"==typeof t.responseText?this.responseText=JSON.stringify(t.responseText):"xml"==n.dataType?"string"==typeof t.responseXML?(this.responseXML=(t=>{null==window.DOMParser&&window.ActiveXObject&&((DOMParser=function(){}).prototype.parseFromString=function(e){var t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t});try{var e=(new DOMParser).parseFromString(t,"text/xml");if(!g.isXMLDoc(e))throw new Error("Unable to parse XML");if(1==g("parsererror",e).length)throw new Error("Error: "+g(e).text());return e}catch(e){t=null==e.name?e:e.name+": "+e.message;g(document).trigger("xmlParseError",[t])}})(t.responseXML),this.responseText=t.responseXML):this.responseXML=t.responseXML:"object"==typeof t.responseText&&null!==t.responseText?(t.contentType="application/json",this.responseText=JSON.stringify(t.responseText)):this.responseText=t.responseText,"number"!=typeof t.status&&"string"!=typeof t.status||(this.status=t.status),"string"==typeof t.statusText&&(this.statusText=t.statusText),e=this.onreadystatechange||this.onload,g.isFunction(e)?(t.isTimeout&&(this.status=-1),e.call(this,t.isTimeout?"timeout":void 0)):t.isTimeout&&(this.status=-1)}if(g.isFunction(t.response)){if(2===t.response.length)return void t.response(s,function(){e.call(o)});t.response(s)}e.call(o)}.apply(o)};t.proxy?m({global:!1,url:t.proxy,type:t.proxyType,data:t.data,dataType:"script"===n.dataType?"text/plain":n.dataType,complete:function(e){t.responseXML=e.responseXML,t.responseText=e.responseText,a(t,"status")&&(t.status=e.status),a(t,"statusText")&&(t.statusText=e.statusText),this.responseTimer=setTimeout(r,c(t.responseTime)||0)}}):!1===n.async?r():this.responseTimer=setTimeout(r,c(t.responseTime)||50)}function b(e,t,n){if("GET"===(r=e).type.toUpperCase()?l.test(r.url)||(r.url+=(/\?/.test(r.url)?"&":"?")+(r.jsonp||"callback")+"=?"):r.data&&l.test(r.data)||(r.data=(r.data?r.data+"&":"")+(r.jsonp||"callback")+"=?"),e.dataType="json",e.data&&l.test(e.data)||l.test(e.url)){var s=e,o=t,r=n,a=r&&r.context||s,i=s.jsonpCallback||"jsonp"+u++,r=(s.data&&(s.data=(s.data+"").replace(l,"="+i+"$1")),s.url=s.url.replace(l,"="+i+"$1"),window[i]=window[i]||function(e){data=e,p(s,a,o),d(s,a),window[i]=void 0;try{delete window[i]}catch(e){}head&&head.removeChild(script)},/^(\w+:)?\/\/([^\/?#]+)/.exec(e.url)),r=r&&(r[1]&&r[1]!==location.protocol||r[2]!==location.host);if(e.dataType="script","GET"===e.type.toUpperCase()&&r)return((e,t,n)=>{var s=n&&n.context||e,o=null;return t.response&&g.isFunction(t.response)?t.response(n):"object"==typeof t.responseText?g.globalEval("("+JSON.stringify(t.responseText)+")"):g.globalEval("("+t.responseText+")"),setTimeout(function(){p(e,s,t),d(e,s)},c(t.responseTime)||0),g.Deferred&&(o=new g.Deferred,"object"==typeof t.responseText?o.resolveWith(s,[t.responseText]):o.resolveWith(s,[g.parseJSON(t.responseText)])),o})(e,t,n)||!0}return null}function p(e,t,n){e.success&&e.success.call(t,n.responseText||"",status,{}),e.global&&(e.context?g(e.context):g.event).trigger("ajaxSuccess",[{},e])}function d(e,t){e.complete&&e.complete.call(t,{},status),e.global&&(e.context?g(e.context):g.event).trigger("ajaxComplete",[{},e]),e.global&&!--g.active&&g.event.trigger("ajaxStop")}g.extend({ajax:function(e,s){var t,n;"object"==typeof e?(s=e,e=void 0):(s=s||{}).url=e;for(var o=g.extend(!0,{},g.ajaxSettings,s),r=function(e,t){var n=s[e.toLowerCase()];return function(){g.isFunction(n)&&n.apply(this,[].slice.call(arguments)),t["onAfter"+e]()}},a=0;a<T.length;a++)if(T[a]&&(n=v(T[a],o))){if(y.push(o),g.mockjaxSettings.log(n,o),!o.dataType||"JSONP"!==o.dataType.toUpperCase()||!(t=b(o,n,s))){n.cache=o.cache,n.timeout=o.timeout,n.global=o.global,n.isTimeout&&(1<n.responseTime?s.timeout=n.responseTime-1:(n.responseTime=2,s.timeout=1),n.isTimeout=!1),g.isFunction(n.onAfterSuccess)&&(s.success=r("Success",n)),g.isFunction(n.onAfterError)&&(s.error=r("Error",n)),g.isFunction(n.onAfterComplete)&&(s.complete=r("Complete",n)),h=x=f=d=p=c=u=l=i=void 0;var i=n,l=s;if(i.url instanceof RegExp&&i.hasOwnProperty("urlParams")){var u=i.url.exec(l.url);if(1!==u.length){u.shift();for(var c=0,p=u.length,d=i.urlParams.length,f=Math.min(p,d),x={};c<f;c++){var h=i.urlParams[c];x[h]=u[c]}l.urlParams=x}}((o,r,a,i)=>{t=m.call(g,g.extend(!0,{},a,{xhr:function(){return t=o,n=r,e=a,s=i,void 0===(t=g.extend(!0,{},g.mockjaxSettings,t)).headers&&(t.headers={}),void 0===n.headers&&(n.headers={}),t.contentType&&(t.headers["content-type"]=t.contentType),{status:t.status,statusText:t.statusText,readyState:1,open:function(){},send:function(){s.fired=!0,j.call(this,t,n,e)},abort:function(){clearTimeout(this.responseTimer)},setRequestHeader:function(e,t){n.headers[e]=t},getResponseHeader:function(e){return t.headers&&t.headers[e]?t.headers[e]:"last-modified"==e.toLowerCase()?t.lastModified||(new Date).toString():"etag"==e.toLowerCase()?t.etag||"":"content-type"==e.toLowerCase()?t.contentType||"text/plain":void 0},getAllResponseHeaders:function(){var n="";return t.contentType&&(t.headers["Content-Type"]=t.contentType),g.each(t.headers,function(e,t){n+=e+": "+t+"\n"}),n}};var t,n,e,s}}))})(n,o,s,T[a])}return t}if(w.push(s),!0===g.mockjaxSettings.throwUnmocked)throw new Error("AJAX not mocked: "+s.url);return m.apply(g,[s])}}),g.mockjaxSettings={log:function(t,e){if(!1!==t.logging&&(void 0!==t.logging||!1!==g.mockjaxSettings.logging)&&window.console&&console.log){t="MOCK "+e.type.toUpperCase()+": "+e.url,e=g.extend({},e);if("function"==typeof console.log)console.log(t,e);else try{console.log(t+" "+JSON.stringify(e))}catch(e){console.log(t)}}},logging:!0,status:200,statusText:"OK",responseTime:500,isTimeout:!1,throwUnmocked:!1,contentType:"text/plain",response:"",responseText:"",responseXML:"",proxy:"",proxyType:"GET",lastModified:null,etag:"",headers:{etag:"IJF@H#@923uf8023hFO@I#H#","content-type":"text/plain"}},g.mockjax=function(e){var t=T.length;return T[t]=e,t},g.mockjax.clear=function(e){1==arguments.length?T[e]=null:T=[],y=[],w=[]},g.mockjaxClear=function(e){window.console&&window.console.warn&&window.console.warn("DEPRECATED: The $.mockjaxClear() method has been deprecated in 1.6.0. Please use $.mockjax.clear() as the older function will be removed soon!"),g.mockjax.clear()},g.mockjax.handler=function(e){if(1==arguments.length)return T[e]},g.mockjax.mockedAjaxCalls=function(){return y},g.mockjax.unfiredHandlers=function(){for(var e=[],t=0,n=T.length;t<n;t++){var s=T[t];null===s||s.fired||e.push(s)}return e},g.mockjax.unmockedAjaxCalls=function(){return w}})(jQuery);